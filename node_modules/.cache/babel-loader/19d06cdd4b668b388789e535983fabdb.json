{"ast":null,"code":"var _jsxFileName = \"/Users/goncalosantos/Desktop/code-immersives/Term2/full-stack-projects/mern-blog/frontend/src/Pages/BlogManager.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState } from \"react\";\nimport BlogManagerCard from \"../Components/BlogManagerCard\";\nimport Modal from \"../Components/Modal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BlogManager = _ref => {\n  _s();\n\n  let {\n    adminBlogList,\n    deleteBlog,\n    fetchSingleBlog,\n    urlEndpoint,\n    setAdminBlogsLoading\n  } = _ref;\n  const [showModal, setShowModal] = useState(false);\n  const [editBlogId, setEditBlogId] = useState(null);\n  const [editTitle, setEditTitle] = useState(\"\");\n  const [editAuthor, setEditAuthor] = useState(\"\");\n  const [editText, setEditText] = useState(\"\");\n  const [editCategory, setEditCategory] = useState(\"\");\n\n  const putUpdatedBlog = async () => {\n    setAdminBlogsLoading(true);\n    const url = `${urlEndpoint}/admin/edit-blog`;\n    const response = await fetch(url, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        id: editBlogId,\n        title: editTitle,\n        author: editAuthor,\n        category: editCategory,\n        text: editText\n      })\n    });\n    const responseJSON = await response.json();\n    setAdminBlogsLoading(false);\n    return responseJSON;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Blog Manager\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: editTitle,\n      onClose: () => setShowModal(false),\n      show: showModal,\n      putUpdatedBlog: putUpdatedBlog,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: editTitle,\n        onChange: e => {\n          setEditTitle(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: editCategory,\n        onChange: e => {\n          setEditCategory(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Author\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: editAuthor,\n        onChange: e => {\n          setEditAuthor(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        type: \"text\",\n        value: editText,\n        onChange: e => {\n          setEditText(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), adminBlogList.map(blog => {\n      const fetchBlogAndShow = async () => {\n        const blogPost = await fetchSingleBlog(blog.id);\n        setEditTitle(blogPost.title);\n        setEditCategory(blogPost.category);\n        setEditAuthor(blogPost.author);\n        setEditText(blogPost.text);\n        setEditBlogId(blog.id);\n        setShowModal(true);\n      };\n\n      return /*#__PURE__*/_jsxDEV(BlogManagerCard, {\n        blog: blog,\n        deleteBlog: deleteBlog,\n        fetchBlogAndShow: fetchBlogAndShow\n      }, blog.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BlogManager, \"IAygXxO1V3oujXU9KW3txMO9CSE=\");\n\n_c = BlogManager;\nexport default BlogManager;\n\nvar _c;\n\n$RefreshReg$(_c, \"BlogManager\");","map":{"version":3,"names":["React","useState","BlogManagerCard","Modal","BlogManager","adminBlogList","deleteBlog","fetchSingleBlog","urlEndpoint","setAdminBlogsLoading","showModal","setShowModal","editBlogId","setEditBlogId","editTitle","setEditTitle","editAuthor","setEditAuthor","editText","setEditText","editCategory","setEditCategory","putUpdatedBlog","url","response","fetch","method","headers","body","JSON","stringify","id","title","author","category","text","responseJSON","json","e","target","value","map","blog","fetchBlogAndShow","blogPost"],"sources":["/Users/goncalosantos/Desktop/code-immersives/Term2/full-stack-projects/mern-blog/frontend/src/Pages/BlogManager.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport BlogManagerCard from \"../Components/BlogManagerCard\";\nimport Modal from \"../Components/Modal\";\n\nconst BlogManager = ({\n  adminBlogList,\n  deleteBlog,\n  fetchSingleBlog,\n  urlEndpoint,\n  setAdminBlogsLoading,\n}) => {\n  const [showModal, setShowModal] = useState(false);\n  const [editBlogId, setEditBlogId] = useState(null);\n  const [editTitle, setEditTitle] = useState(\"\");\n  const [editAuthor, setEditAuthor] = useState(\"\");\n  const [editText, setEditText] = useState(\"\");\n  const [editCategory, setEditCategory] = useState(\"\");\n\n  const putUpdatedBlog = async () => {\n    setAdminBlogsLoading(true);\n    const url = `${urlEndpoint}/admin/edit-blog`;\n    const response = await fetch(url, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        id: editBlogId,\n        title: editTitle,\n        author: editAuthor,\n        category: editCategory,\n        text: editText,\n      }),\n    });\n    const responseJSON = await response.json();\n    setAdminBlogsLoading(false);\n    return responseJSON;\n  };\n  return (\n    <div>\n      <h1>Blog Manager</h1>\n      <Modal\n        title={editTitle}\n        onClose={() => setShowModal(false)}\n        show={showModal}\n        putUpdatedBlog={putUpdatedBlog}\n      >\n        <label>Title</label>\n        <input\n          type=\"text\"\n          value={editTitle}\n          onChange={(e) => {\n            setEditTitle(e.target.value);\n          }}\n        ></input>\n        <br />\n        <label>Category</label>\n        <input\n          type=\"text\"\n          value={editCategory}\n          onChange={(e) => {\n            setEditCategory(e.target.value);\n          }}\n        ></input>\n        <br />\n        <label>Author</label>\n        <input\n          type=\"text\"\n          value={editAuthor}\n          onChange={(e) => {\n            setEditAuthor(e.target.value);\n          }}\n        ></input>\n        <br />\n        <label>Text</label>\n        <textarea\n          type=\"text\"\n          value={editText}\n          onChange={(e) => {\n            setEditText(e.target.value);\n          }}\n        ></textarea>\n        <br />\n      </Modal>\n      {adminBlogList.map((blog) => {\n        const fetchBlogAndShow = async () => {\n          const blogPost = await fetchSingleBlog(blog.id);\n          setEditTitle(blogPost.title);\n          setEditCategory(blogPost.category);\n          setEditAuthor(blogPost.author);\n          setEditText(blogPost.text);\n          setEditBlogId(blog.id);\n          setShowModal(true);\n        };\n        return (\n          <BlogManagerCard\n            blog={blog}\n            deleteBlog={deleteBlog}\n            key={blog.id}\n            fetchBlogAndShow={fetchBlogAndShow}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default BlogManager;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,eAAP,MAA4B,+BAA5B;AACA,OAAOC,KAAP,MAAkB,qBAAlB;;;AAEA,MAAMC,WAAW,GAAG,QAMd;EAAA;;EAAA,IANe;IACnBC,aADmB;IAEnBC,UAFmB;IAGnBC,eAHmB;IAInBC,WAJmB;IAKnBC;EALmB,CAMf;EACJ,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAC,KAAD,CAA1C;EACA,MAAM,CAACW,UAAD,EAAaC,aAAb,IAA8BZ,QAAQ,CAAC,IAAD,CAA5C;EACA,MAAM,CAACa,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,EAAD,CAA1C;EACA,MAAM,CAACe,UAAD,EAAaC,aAAb,IAA8BhB,QAAQ,CAAC,EAAD,CAA5C;EACA,MAAM,CAACiB,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACmB,YAAD,EAAeC,eAAf,IAAkCpB,QAAQ,CAAC,EAAD,CAAhD;;EAEA,MAAMqB,cAAc,GAAG,YAAY;IACjCb,oBAAoB,CAAC,IAAD,CAApB;IACA,MAAMc,GAAG,GAAI,GAAEf,WAAY,kBAA3B;IACA,MAAMgB,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,EAAM;MAChCG,MAAM,EAAE,KADwB;MAEhCC,OAAO,EAAE;QACP,gBAAgB;MADT,CAFuB;MAKhCC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACnBC,EAAE,EAAEnB,UADe;QAEnBoB,KAAK,EAAElB,SAFY;QAGnBmB,MAAM,EAAEjB,UAHW;QAInBkB,QAAQ,EAAEd,YAJS;QAKnBe,IAAI,EAAEjB;MALa,CAAf;IAL0B,CAAN,CAA5B;IAaA,MAAMkB,YAAY,GAAG,MAAMZ,QAAQ,CAACa,IAAT,EAA3B;IACA5B,oBAAoB,CAAC,KAAD,CAApB;IACA,OAAO2B,YAAP;EACD,CAnBD;;EAoBA,oBACE;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE,QAAC,KAAD;MACE,KAAK,EAAEtB,SADT;MAEE,OAAO,EAAE,MAAMH,YAAY,CAAC,KAAD,CAF7B;MAGE,IAAI,EAAED,SAHR;MAIE,cAAc,EAAEY,cAJlB;MAAA,wBAME;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QANF,eAOE;QACE,IAAI,EAAC,MADP;QAEE,KAAK,EAAER,SAFT;QAGE,QAAQ,EAAGwB,CAAD,IAAO;UACfvB,YAAY,CAACuB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ;QACD;MALH;QAAA;QAAA;QAAA;MAAA,QAPF,eAcE;QAAA;QAAA;QAAA;MAAA,QAdF,eAeE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAfF,eAgBE;QACE,IAAI,EAAC,MADP;QAEE,KAAK,EAAEpB,YAFT;QAGE,QAAQ,EAAGkB,CAAD,IAAO;UACfjB,eAAe,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf;QACD;MALH;QAAA;QAAA;QAAA;MAAA,QAhBF,eAuBE;QAAA;QAAA;QAAA;MAAA,QAvBF,eAwBE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAxBF,eAyBE;QACE,IAAI,EAAC,MADP;QAEE,KAAK,EAAExB,UAFT;QAGE,QAAQ,EAAGsB,CAAD,IAAO;UACfrB,aAAa,CAACqB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb;QACD;MALH;QAAA;QAAA;QAAA;MAAA,QAzBF,eAgCE;QAAA;QAAA;QAAA;MAAA,QAhCF,eAiCE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAjCF,eAkCE;QACE,IAAI,EAAC,MADP;QAEE,KAAK,EAAEtB,QAFT;QAGE,QAAQ,EAAGoB,CAAD,IAAO;UACfnB,WAAW,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;QACD;MALH;QAAA;QAAA;QAAA;MAAA,QAlCF,eAyCE;QAAA;QAAA;QAAA;MAAA,QAzCF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF,EA6CGnC,aAAa,CAACoC,GAAd,CAAmBC,IAAD,IAAU;MAC3B,MAAMC,gBAAgB,GAAG,YAAY;QACnC,MAAMC,QAAQ,GAAG,MAAMrC,eAAe,CAACmC,IAAI,CAACX,EAAN,CAAtC;QACAhB,YAAY,CAAC6B,QAAQ,CAACZ,KAAV,CAAZ;QACAX,eAAe,CAACuB,QAAQ,CAACV,QAAV,CAAf;QACAjB,aAAa,CAAC2B,QAAQ,CAACX,MAAV,CAAb;QACAd,WAAW,CAACyB,QAAQ,CAACT,IAAV,CAAX;QACAtB,aAAa,CAAC6B,IAAI,CAACX,EAAN,CAAb;QACApB,YAAY,CAAC,IAAD,CAAZ;MACD,CARD;;MASA,oBACE,QAAC,eAAD;QACE,IAAI,EAAE+B,IADR;QAEE,UAAU,EAAEpC,UAFd;QAIE,gBAAgB,EAAEqC;MAJpB,GAGOD,IAAI,CAACX,EAHZ;QAAA;QAAA;QAAA;MAAA,QADF;IAQD,CAlBA,CA7CH;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAmED,CArGD;;GAAM3B,W;;KAAAA,W;AAuGN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}